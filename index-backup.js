"use strict";(()=>{function q(e,t){var u;let s=Array.from(e.querySelectorAll(`input[type='radio'][name='${t}']`)).find(c=>c.checked);return(u=s==null?void 0:s.value)!=null?u:null}function l(e,t){return Array.from(e.querySelectorAll(t))}function o(e,t){return e.querySelector(t)}async function h(e){return new Promise((t,r)=>{setTimeout(t,e)})}function P(e,t){return e.startsWith(t)?e.substring(t.length):e}function v(e,t){return e.toLowerCase()===t.toLowerCase()}function y(e){return`$${e.toLocaleString("en-US")}`}function A(e){var s,u;let r=l(e,"[data-w-tab]").find(c=>c.classList.contains("w--current"));return(u=(s=r==null?void 0:r.getAttribute("data-w-tab"))==null?void 0:s.trim())!=null?u:""}function I(e){var u,c;let t=(c=(u=o(e,"[pp='plan-name']"))==null?void 0:u.innerText.trim())!=null?c:"";if(!t)throw new Error("could not find plan name");let r=new Map;return l(e,"[data-pp-quantity]").forEach(i=>{let d=Number(i.getAttribute("data-pp-quantity")),m=Number(i.getAttribute("data-pp-price"));r.set(d,m)}),{planName:t,priceByQuantity:r}}function w(e,t){return l(e,"[pp='hardware-item']").filter(c=>{var d;let i=(d=c.querySelector("[pp='hardware-toggle-wrap']"))==null?void 0:d.querySelector("input[type='checkbox']");return i?i.checked:!1}).reduce((c,i)=>{var p,T;let m=(T=(p=o(i,t==="cash"?"[pp='hardware-price-cash']":"[pp='hardware-price-haas']"))==null?void 0:p.innerText.trim())!=null?T:"",f=Number(P(m,"$").trim().replace(/,/g,""));return c+f},0)}function _(e){return A(e).toLowerCase()}var j="Professional",K=10,V="United States (US)",X="pp",N="cc-highlighted",n=e=>`[${X}='${e}']`,E=o(document.body,n("section-1")),a=o(document.body,n("section-2")),k=o(document.body,n("preloader")),z=o(document.body,n("quantity-counter")),J=l(a,n("quantity-counter-button")),O=l(a,n("quantity-display")),$=l(a,n("selected-plan-display")),W=l(a,n("plan-card-wrapper")),F=W.flatMap(e=>l(e,"input[type='radio']")),Z=o(E,n("email-source")),ee=o(a,n("email-target")),S=o(a,n("pricing-quote-tabs")),H=o(S,".w-tab-menu"),te=a.querySelector(n("cash-upfront-cost")),ne=a.querySelector(n("cash-recurring-annual-cost")),re=a.querySelector(n("cash-year-1-total")),ae=a.querySelector(n("haas-recurring-annual-cost")),x=a.querySelector(n("grand-total-cost")),Q=a.querySelector(n("custom-pricing-tag")),Y=l(a,n("cost-summary-wrap")),B=o(a,n("custom-pricing-tooltip-quantity")),D=o(a,n("custom-pricing-tooltip-plan")),g=o(E,n("country-select")),U=o(E,n("us-state-select"));g.value=V;g==null||g.addEventListener("change",()=>{g.value===V?U.style.display="block":U.style.display="none"});l(a,"[fs-accordion-element='content']").forEach(async e=>{await h(500);let t=e.closest("[fs-accordion-element='group']"),r=t==null?void 0:t.getAttribute("fs-accordion-active");r&&e.classList.contains(r)&&(e.style.maxHeight="none")});location.search.includes("show-both-forms")||(a.style.display="none");E.addEventListener("submit",async()=>{k.style.display="flex",E.style.display="none",a.style.display="block",window.scrollTo(0,0),await h(2500),k.style.display="none",ee.value=Z.value});var G=l(a,".c-toggle__button");G.forEach(e=>e.addEventListener("click",t=>{var d,m,f;if(e.hasAttribute("readonly")){t.preventDefault();return}((d=e.closest(n("hardware-item")))==null?void 0:d.querySelector(".c-toggle__text")).classList.toggle("cc-active");let s=(m=e.closest(n("hardware-item")))==null?void 0:m.querySelector(n("hardware-name")),u=(f=s==null?void 0:s.innerText)!=null?f:"";l(a,n("pricing-hardware-item")).filter(p=>{var C,b;let T=(b=(C=p.querySelector(n("hardware-name")))==null?void 0:C.innerHTML)!=null?b:"";return v(T,u)}).forEach(p=>{e.checked?p==null||p.classList.add("cc-active"):p==null||p.classList.remove("cc-active")})}));J.forEach(e=>e.addEventListener("click",async()=>{await h(0);let t=z.value;O.forEach(r=>r.innerText=t),L()}));F.forEach(e=>{let t=e.closest(n("plan-card-wrapper"));t&&(e.value===j&&(e.checked=!0,R(t),$.forEach(r=>r.innerText=e.value)),e.addEventListener("change",()=>{R(t),$.forEach(r=>r.innerText=e.value)}))});function R(e){W.forEach(t=>{for(let r of t.children)r.classList.remove(N)});for(let t of e.children)t.classList.add(N)}G.forEach(e=>e.addEventListener("click",L));H==null||H.addEventListener("click",L);F.forEach(e=>e.addEventListener("change",L));function L(){var p;if(!S)return;let e=q(a,"desired_subscription_plans");if(e!=="Standard"){M("plan");return}let t=Number(O[0].innerText);if(t>K){M("quantity");return}oe();let r=_(S),s=(p=document.querySelector("input[type='radio'][value='"+e+"']"))==null?void 0:p.closest(n("plan-card-wrapper"));if(!s)throw new Error("no selected plan card wrapper");let u=w(a,"haas")*t,c=w(a,"cash")*t,i=I(s).priceByQuantity.get(t);if(!i)throw new Error("no softwarecost found");let d=i+u,m=i+c,f=r==="haas"?d:m;if(f>15e3){M("quantity");return}te.innerText=y(c),ne.innerText=y(i),re.innerText=y(i+c),ae.innerText=y(i+u),x.innerText=y(f)}function M(e){Y.forEach(t=>t.style.display="none"),x.style.display="none",Q.style.display="flex",e==="plan"?(D.style.display="block",B.style.display="none"):e==="quantity"&&(B.style.display="block",D.style.display="none")}function oe(){Y.forEach(e=>e.style.display="block"),x.style.display="block",Q.style.display="none"}})();
